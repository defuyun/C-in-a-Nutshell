# Advanced C\#

## Delegates

delegates are basically `std::function<T(T)>` in C++

### Multicast Delegates

you can add multiple function to a single delegate by doing

```C#
someDelegate d = someMethod1;
d += someMethod2;
```

you can also remove method with `-=`

note: delegates are immutable, when you do `+=` you are creating a new delegate instance and assigning back to the old variable name

if the multicast delegate is not null return then the last invoked method return value is returned

### Instance

when using a instance method with delegate there is a `Target` field in the delegate that stores the instance

in multicast case it stores the last instance and method

### Polymorthism

Delegate follows polymorthism needs

Delegate works by

* calling delegate
* delegate calls underlaying functions

this means we can allow

* the parameter from delegate to function to upcast
* the return value from function to delegate to upcast